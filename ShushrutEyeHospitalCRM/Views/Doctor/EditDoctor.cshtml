<link rel="stylesheet" type="text/css" href="~/css/jquery_validation.css" />
<link href="~/css/jquery-ui.css" rel="stylesheet" />

@model Tuple< DoctorViewModel,List<DepartmentViewModel>>
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <div class="header-icon">
            <i class="pe-7s-note2"></i>
        </div>
        <div class="header-title">
            <h1>Doctor</h1>
            <small>Doctor Edit</small>
            <ol class="breadcrumb hidden-xs">
                <li><a href="~/Home/Index"><i class="pe-7s-home"></i> Home</a></li>
                <li class="active">Dashboard</li>
            </ol>
        </div>
    </section>
    <!-- Main content -->
    <section class="content">
        <div class="row">
            <!-- Form controls -->
            <div class="col-sm-12">
                <div class="panel panel-bd lobidrag">
                    <div class="panel-heading">
                        <div class="btn-group">
                            <a class="btn btn-primary" href="~/Doctor/Index"> <i class="fa fa-list"></i> Back </a>
                        </div>
                    </div>
                    <div class="panel-body">
                        @using (Html.BeginForm("EditDoctor", "Doctor", FormMethod.Post, new { @id = "frmEditDoctor" }))
                        {
                            @Html.HiddenFor(m=>m.Item1.Id,new { @id = "hdnDocId" })
                            <div class="row">
                                <div class="col-sm-3 form-group">
                                    <label>First Name<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.ApplicationUser!.FirstName,new {@id="txtFirstName",@class="form-control",placeholder="Enter firstname" ,required=""})
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Last Name<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.ApplicationUser!.LastName,new {@id="txtLastName",@class="form-control",placeholder="Enter lastname" ,required=""})
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Email<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.ApplicationUser!.Email,new {@id="txtEmail",@class="form-control",placeholder="Enter email" ,required="",@readonly="readonly"})
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Mobile<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.ApplicationUser!.PhoneNumber,new {@id="txtMobile",@class="form-control",placeholder="Enter mobile" ,required=""})
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Department<span class="text-danger">*</span></label>
                                    @Html.DropDownListFor(m=>m.Item1.DepartmentId,new SelectList(Model.Item2,"Id","Name"),"--Select--",new {@id="optDepartment",@class="form-control",placeholder="Enter Address" ,required=""})

                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Designation<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.Designation,new {@id="txtDesignation",@class="form-control",placeholder="Enter designation" ,required=""})
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Specialist<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.Specialist,new {@id="txtSpecialist",@class="form-control",placeholder="Enter Specialist" ,required=""})
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Address<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.Address,new {@id="txtAddress",@class="form-control",placeholder="Enter Address" ,required=""})
                                </div>
                            </div>
                            <div class="row">
                               
                                <div class="col-sm-3 form-group">
                                    <label>Date of Birth<span class="text-danger">*</span></label>
                                    @Html.TextBoxFor(m=>m.Item1.DOB,"{0:yyyy-MM-dd}",new {@id="txtDOB",@class="form-control", type="date" ,required=""})
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Blood group</label>
                                    @{
                                        var list = new List<SelectListItem>
                                {
                                new SelectListItem { Text = "A+", Value = "A+" },
                                new SelectListItem { Text = "AB+", Value = "AB+" },
                                new SelectListItem { Text = "O+", Value = "O+" },
                                new SelectListItem { Text = "AB-", Value = "AB-" },
                                new SelectListItem { Text = "B+", Value = "B+" },
                                new SelectListItem { Text = "A-", Value = "A-" },
                                new SelectListItem { Text = "B-", Value = "B-" },
                                new SelectListItem { Text = "O-", Value = "O-" },
                                };

                                    }
                                    @Html.DropDownListFor(m=>m.Item1.BloodGroup,new SelectList(list,"Value","Text"),"--Select--",new {@id="optBloodGroup",@class="form-control" ,required=""})

                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Picture upload</label>

                                    <input type="file" class="form-control" id="fileProfilePic" accept="image/jpg,image/png,image/jpeg">


                                </div>
                                <div class="col-sm-3 form-check">
                                    <br />
                                    @{
                                        var profile = Model.Item1.ProfilePic != null ? "../doctor/" + Model.Item1.ProfilePic : "../assets/dist/img/avatar5.png";
                                    }
                                    <img id="previewProfile" src="@profile" height="50" width="50" />
                                    @Html.HiddenFor(m=>m.Item1.ProfilePic,new {@id="hdnpreviewProfile"})
                                   
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-sm-3 form-group">
                                    <label>Gender<span class="text-danger">*</span></label><br>
                                    <div class="form-control">
                                        <label class="radio-inline form-radio">
                                            @Html.RadioButtonFor(m=>m.Item1.Gender,"Male",new{@Id="rdgender"})
                                            Male
                                        </label>
                                        <label class="radio-inline">
                                            @Html.RadioButtonFor(m=>m.Item1.Gender,"Female",new{@Id="rdgender"})
                                            Female
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-3 form-check">
                                    <label>Status</label><br>
                                    <div class="form-control">
                                        <label class="radio-inline">
                                            @Html.RadioButtonFor(m=>m.Item1.Status,true,new{@Id="rdStatus"})
                                            Active
                                        </label>
                                        <label class="radio-inline">
                                            @Html.RadioButtonFor(m=>m.Item1.Status,false,new{@Id="rdStatus"})
                                            Inctive
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-3 form-group">
                                    <label>Signature upload</label>
                                    <input type="file" class="form-control" id="fileSignature" accept="image/jpg,image/png,image/jpeg">


                                </div>
                                <div class="col-sm-3 form-check">
                                    <br />
                                   @Html.HiddenFor(m=>m.Item1.Signature,new {@id="hdnpreviewSignature"})
                                    @{
                                        var signature = Model.Item1.Signature != null ? "../doctor/" + Model.Item1.Signature : "";
                                    }
                                    <img id="previewSignature" src="@signature" height="50" width="50" />
                                </div>
                                <div class="col-sm-12 form-group">
                                    <label>Short Biography</label>
                                    @Html.TextAreaFor(m=>m.Item1.Biography,new {@id="txtBiography",@class="form-control", rows="3",placeholder="Enter Biography" })
                                </div>

                                <div class="col-sm-12 reset-button">
                                    <button type="submit" id="btnSaveEdit" class="btn btn-success">Save</button>
                                    <button type="reset" id="btnReset" class="btn btn-warning">Reset</button>
                                </div>
                            </div>

                        }
                    </div>
                </div>
            </div>
        </div>

    </section> <!-- /.content -->
</div>
@section scripts{
    <!-- jquery validation -->
    @await Html.PartialAsync("_ValidationScriptsPartial")
    <script src="~/lib/flatpickr.min.js"></script>
    <script src="~/lib/flatpicker-data.js"></script>
    <script type="text/javascript" src="~/js/add_doctor.js"></script>
    }
   
