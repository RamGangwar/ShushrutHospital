@using System.Security.Claims;
@model Tuple<PatientViewModel, PatientCounselingViewModel,PatientDischargeViewModel>
@{
    ViewData["Title"] = "PatientDetail";
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Patient Detail</title>
    <link href="~/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/dist/css/stylehealth.min.css" rel="stylesheet" type="text/css" />

    <style>

        .letter-head article {
            /*width:210mm;*/
            width: 100%;
            height: auto;
            margin: 20px auto;
            position: relative;
        }

        .letter-head address {
            text-align: right;
            padding: 0 15px 0 0;
            bottom: 8mm;
            right: 20mm;
        }

        .letter-head .ccc h5 {
            margin: 6px 0;
        }

        .letter-head .ccc, address {
            color: #000000 !important;
        }

            .letter-head .ccc h3 {
                margin: 3px 0;
            }

        .letter-head h1 {
            top: 12mm;
            left: 20mm;
            width: 221px;
            height: 149px;
            font-size: 20px;
            letter-spacing: 1px;
            text-align: center;
            padding: 0px 0;
            color: white;
            line-height: 9;
            text-shadow: 1px 1px 1px black;
        }

        .letter-head .head {
            display: flex;
            align-items: center;
            /*gap: 30px;*/
            gap: 55%;
            padding: 0 0%;
            background-color: #ededed;
        }
        /* Your CSS below here */
        .letter-head article {
            background-color: #fff;
            border-top: 5px solid #b30000;
            border-bottom: 5px solid #b30000;
        }

        .letter-head h1 {
            box-shadow: 5px 5px 1px rgba(0,0,0,0.7);
            border-radius: 50%;
            overflow: hidden;
            background-color: #31349d;
        }

        .letter-head .contant {
            padding: 0px 15px;
        }

        .head img {
            padding: 50px 0 50px 0;
        }

        tbody th {
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="letter-head">
        <article>
            <div style="width:100%">

                <table class="table" style="text-align:center;border:none;">
                    <tr>
                        <td style="vertical-align:middle; border:none;padding:0;"><img src="~/images/logobig.jpg" alt="" style="width: 100%; height:70px"></td>

                    </tr>
                    <tr>
                        <td style="border:none;padding:0;">
                            @*<h3>Sushrut Eye Hospital<br></h3>*@
                            <h5><b>Address-</b>Plot no 5 , 1st Floor, Ishwarpuri, Sector 12 Indra Nagar, Lucknow-226016 <b>Phone-</b>9026353723 (Whatsapp)</h5>
                        </td>
                    </tr>

                </table>

                @*<table class="table">
                <tr>
                <td><img src="~/images/logo.png" alt="" style="width: 200px;"></td>
                <td>
                <div class="ccc ms-auto pr-3 text-center text-white">
                <h3>Sushrut Eye Hospital<br></h3>
                <h5>Plot no 5 , 1st Floor, Ishwarpuri, Sector 12 Indra Nagar, Lucknow-226016</h5>
                <b>Phone-</b>9026353723 (Whatsapp)<br>

                </div>
                </td>

                </tr>

                </table>*@
            </div>


            <div class="contant">
                <div class="tables-container">
                    <table class="table" style="border:none">

                        <tr style="border:none">
                            <th style="border:none">Name</th>
                            <td style="border:none">@Model.Item1.ApplicationUser!.FirstName &nbsp;@Model.Item1.ApplicationUser.LastName</td>
                            <th style="border:none">Age/Sex</th>
                            <td style="border:none">
                                @{
                                    var age = Convert.ToUInt32(System.DateTime.Today.Year) - Convert.ToInt32(Model.Item1.DOB!.Value.Year);
                                }
                                @{
                                    var gender = Model.Item1.Gender == "1" ? "Male" : "Female";
                                }
                                @age yrs/@gender
                            </td>

                        </tr>
                        <tr style="border:none">
                            <th style="border:none">Address</th>
                            <td style="border:none">@Model.Item1.Address</td>
                            <th style="border:none">MRD No</th>
                            <td style="border:none">@Model.Item1.MRDNo</td>

                        </tr>
                        <tr style="border:none">
                            <th style="border:none">Contact No</th>
                            <td style="border:none">@Model.Item1.ApplicationUser.PhoneNumber</td>
                            <th style="border:none">Diagnosis</th>
                            <td style="border:none">@Model.Item2.Diagnosis</td>
                        </tr>
                        <tr style="border:none">

                            <th style="border:none">Type Of Surgery</th>
                            <td style="border:none">@Model.Item2.ProcedureName</td>
                            <th style="border:none">Date Of Surgery</th>
                            <td style="border:none">@Model.Item2.SurgeryDateTime?.ToShortDateString()</td>
                        </tr>
                        <tr style="border:none">
                            <th style="border:none">Date of Discharge</th>
                            <td style="border:none">@Model.Item3.CreatedDate?.ToString("dd/MM/yyyy hh:mm tt")</td>
                            <th style="border:none">Consultant Name</th>
                            <td style="border:none">
                                @Model.Item2.DoctorName
                            </td>

                        </tr>
                         <tr>
                            <th>OPD Date</th>
                           <td>@Model.Item1.RegDate</td>
                            <th>Print Date</th>
                            <td>@System.DateTime.Now.ToString("dd/MM/yyyy hh:mm tt")</td>
                        </tr>

                    </table>
                </div>
                <div class="row" >
                    <center><h5 style="text-decoration:underline;">Discharge Sheet</h5></center>
                    <div class="col-md-12" style="height:850px">
                        <div style="padding-left: 50px;    padding-top: 50px;">@Html.Raw(Model.Item3.DischargeDetail)</div>
                    </div>
                    <div class="col-md-12" style="text-align:right;height:50px">
                        <span style="padding-right: 50px;"><b>Doctor's Signature</b></span>
                    </div>
                    <div class="col-md-12" style="text-align:center;height:50px">
                        <span><b>PATIENT ADVISED TO REVIEW AFTER ONE WEEK OF SURGERY</b></span>
                    </div>
                </div>


            </div>

        </article>
    </div>
    <script src="~/assets/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>

</body>
</html>
